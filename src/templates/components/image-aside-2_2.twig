{#
  Section with text and image aside. Version 2_2. Because it's very similar to version 2

  We have to extact styles in the css for the layout, so the html in
  the content can be naked.

  @param {string}  title
  @param {wysiwyg} description
  @param {object}  cta 
  {
    @param {string} title
    @param {string} url
  }
  @param {string} image     image url
  @param {string} layout    default set to 1. possible layouts 1,2,3,4,5
#}

{# Output #}
{% set imageClass = "w-full h-0 pb-full mb-4 lg:mb-0" %}
{% set patternClass = "absolute" %}
{% set rowClass = params.layout in [3,5] ? "items-center" : "" %}


<section class="c-image-aside c-image-aside-2_2 {{ params.layout ? "layout-" ~ params.layout : "layout-1" }}">
  <div class="container-only-lg">
    <div class="flex flex-wrap -mx-5 {{ rowClass }}">
      <div class="col-12 lg:col-6 xl:col-4 xl:offset-1 order-1 {{ params.layout in [1,3,5] == true ? 'lg:order-1' : 'lg:order-0'}}">
        {% if params.title %}
        <h3 class="h5 lg:h3 title mb-3 lg:mb-4">{{ params.title }}</h3>
        {% endif %}
        {% if params.description %}
        <div class="medium-paragraph lg:medium-paragraph mb-8 lg:mb-7  text-textgray">{{ params.description|raw }}</div>
        {% endif %}
        {% if params.cta %}
        <div class="mb-0">
          <a href="{{ params.cta.url }}" class="button button-full medium-button w-full lg:w-auto">{{ params.cta.title }}</a>
        </div>
        {% endif %}
      </div>
      <div class="col-12 lg:col-6 xl:offset-1 xl:col-5 order-0 {{ params.layout in [1,3,5] ? 'lg:order-0' : 'lg:order-1'}}">
        {% if params.image %}
          <div class="relative -mx-5 lg:mx-0">
              <div class="pattern-container {{ patternClass }}">
                <img src="{{ manifest('assets/images/Pattern-1-mobile.svg') }}" alt="">
              </div>
              <div class="image-container">
                  <img src="{{ params.image }}" loading="lazy" alt="" class="absolute top-0 left-0 object-cover w-full h-full" >
              </div>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</section>